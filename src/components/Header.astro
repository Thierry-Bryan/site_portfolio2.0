---
import Button from "./Button.astro";

interface Props {
  theme?: "cyberpunk" | "ocean" | "sunset" | "forest" | "fire";
}

const { theme = "fire" } = Astro.props;
---

<header
  id="header"
  data-theme={theme}
  class="navbar w-full px-6 py-4 fixed top-0 z-50 transition-all duration-300 bg-transparent"
>
  <style>
    /* Minimum obligatoire pour vos effets */
    #header {
      --text-color: var(--color-white);
    }
    
    #header.scrolled {
      --text-color: var(--color-black);
    }

    .logo-link,
    .nav-link {
      color: var(--text-color);
    }

    .logo-link:hover {
      text-shadow:
        0 0 20px var(--p),
        3px 3px 0 var(--p),
        6px 6px 0 var(--s);
      filter: drop-shadow(0 5px 15px var(--accent-glow));
    }

    .nav-link:hover {
      text-shadow:
        0 0 15px var(--p),
        2px 2px 0 var(--p),
        4px 4px 0 var(--s);
      filter: drop-shadow(0 3px 10px var(--accent-glow));
    }
  </style>

  <div class="navbar-start">
    <a
      href="/"
      class="logo-link font-primary text-4xl tracking-tight relative transition-all duration-300 hover:scale-105 hover:-rotate-1"
    >
      BRYAN THIERRY
    </a>
  </div>

  <div class="navbar-center hidden md:flex">
    <ul class="menu menu-horizontal gap-10 px-1">
      <li>
        <a
          href="#services"
          class="nav-link font-primary uppercase text-xl relative transition-all duration-300 hover:scale-105 hover:-rotate-1"
        >
          MES SERVICES
        </a>
      </li>
      <li>
        <a
          href="#projects"
          class="nav-link font-primary uppercase text-xl relative transition-all duration-300 hover:scale-105 hover:-rotate-1"
        >
          MES PROJETS
        </a>
      </li>
      <li>
        <a
          href="#about"
          class="nav-link font-primary uppercase text-xl relative transition-all duration-300 hover:scale-105 hover:-rotate-1"
        >
          A PROPOS
        </a>
      </li>
    </ul>
  </div>

  <div class="navbar-end">
    <Button href="#contact" aria-label="Me contacter" theme={theme}>
      ME CONTACTER
    </Button>
  </div>
</header>

<script>
  function updateHeaderStyle() {
    const header = document.getElementById("header");
    if (!header) return;

    const heroHeight = window.innerHeight;
    const scrolled = window.scrollY > heroHeight - 100;

    if (scrolled) {
      header.classList.add("scrolled");
    } else {
      header.classList.remove("scrolled");
    }
  }

  window.addEventListener("scroll", updateHeaderStyle);
  updateHeaderStyle();
</script>
